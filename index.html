<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>¬øCuidas tu salud mental?</title>
  <meta name="description" content="P√°gina informativa y pr√°ctica sobre salud mental: qu√© es, consecuencias de no atenderla, qu√© pod√©s hacer, ejercicio de respiraci√≥n y l√≠neas de ayuda. Todo en un solo archivo." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=Sour+Gummy:wght@700;800&display=swap" rel="stylesheet">

  <!-- Preload del audio local -->
  <link rel="preload" as="audio" href="audio/respiracion-426.mp3">

  <style>
    :root{
      --bg1:#0b1020;           /* degradado de fondo */
      --bg2:#1f2a44;
      --card:#101628cc;        /* vidrio */
      --line:#2b3a60;
      --text:#f5f7ff;          /* texto principal */
      --muted:#cbd3ffcc;       /* texto secundario */
      --accent:#66e9c8;        /* acento suave */
      --accent-2:#a8b0ff;      /* segundo acento */
      --danger:#ff5d7a;        /* para CTA de ayuda */
      --radius:18px;
      --shadow:0 20px 60px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.04);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; background:linear-gradient(180deg,var(--bg1),var(--bg2));
      color:var(--text); font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial;
      -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
    }
    a{color:inherit}

    /* Layout */
    .wrap{max-width:1000px; margin-inline:auto; padding:24px 20px 80px}

    header.hero{
      display:grid; grid-template-columns:1fr 320px; gap:24px; align-items:center;
      padding-block:24px 10px;
    }
    @media (max-width:860px){ header.hero{grid-template-columns:1fr; text-align:center} }

    .kicker{font:600 14px/1 Inter; letter-spacing:.12em; text-transform:uppercase; color:var(--accent)}
    h1{font:800 clamp(28px,5.6vw,56px)/1.05 "Sour Gummy", Inter, system-ui; margin:8px 0 12px}
    .lead{color:var(--muted); font-size:clamp(16px,1.9vw,18px)}

    .card{background:var(--card); border:1px solid var(--line); border-radius:var(--radius); box-shadow:var(--shadow);}
    .card.pad{padding:20px}

    .brain-svg{width:100%; height:auto; display:block}
    .pill{display:inline-flex; align-items:center; gap:10px; padding:10px 14px; border-radius:999px; background:#0f1626; border:1px solid var(--line); color:var(--muted)}

    /* Section blocks */
    section{margin-top:22px}
    section h2{font:800 24px/1.15 "Sour Gummy"; margin:0 0 12px}
    section p{margin:0 0 10px; color:var(--muted)}

    .grid{display:grid; gap:14px}
    .grid.cols-2{grid-template-columns:1fr 1fr}
    @media (max-width:860px){ .grid.cols-2{grid-template-columns:1fr} }

    .list{margin:0; padding:0; list-style:none}
    .list li{display:flex; gap:10px; padding:10px 12px; border:1px solid var(--line); border-radius:12px; background:rgba(255,255,255,.02)}
    .dot{width:10px; height:10px; border-radius:50%; background:var(--accent-2); margin-top:6px; flex:0 0 auto}

    /* === NUEVO: Entrenador de respiraci√≥n (reemplazo) === */
    .breath-ui{
      display:grid; gap:1rem; place-items:center; margin:4px 0 2px;
      text-align:center;
    }
    .breath-ui .circle{
      --size: 200px;
      width:var(--size); height:var(--size); border-radius:50%;
      background: radial-gradient( circle at 30% 30%, rgba(168,176,255,.35), rgba(102,233,200,.3) 60%, rgba(29,95,86,.9) );
      box-shadow: 0 10px 35px rgba(0,0,0,.25), inset 0 0 40px rgba(255,255,255,.15);
      transform: scale(1); transition: transform 4s ease-in-out;
    }
    .breath-ui .caption{ font-size:1.15rem; opacity:.9 }
    .breath-ui .controls{ display:flex; gap:.75rem; flex-wrap:wrap; justify-content:center }
    .breath-ui .controls button{
      padding:.6rem 1rem; border:0; border-radius:.6rem; cursor:pointer;
      background:#1fa88b; color:#fff; font-weight:600; box-shadow:0 4px 14px rgba(31,168,139,.3);
    }
    .breath-ui .controls button#btn-stop{ background:#3b4a58 }
    .breath-ui .vol{ display:flex; align-items:center; gap:.5rem; font-size:.9rem; opacity:.85 }

    /* Help block */
    .help{display:flex; flex-wrap:wrap; gap:10px; align-items:center}
    .help .cta{display:inline-flex; align-items:center; gap:10px; padding:12px 16px; border-radius:12px; background:var(--danger); color:#fff; font-weight:800; text-decoration:none}
    .help small{color:var(--muted)}

    footer{margin-top:26px; padding:16px; text-align:center; color:#a9b3e6}
  </style>
</head>
<body>
  <div class="wrap">
    <header class="hero">
      <div>
        <div class="kicker">CUIDADO Y BIENESTAR</div>
        <h1>¬øCuid√°s tu salud mental?</h1>
        <p class="lead">La salud mental es un <strong>estado de bienestar</strong> que te permite afrontar el estr√©s de la vida, <strong>desarrollar tus habilidades</strong>, aprender y trabajar adecuadamente, y <strong>contribuir a tu comunidad</strong>.</p>
        <div class="pill" style="margin-top:10px">üí° Real y tratable ‚Ä¢ Pedir ayuda es un acto de valent√≠a</div>
      </div>
      <div class="card pad">
        <!-- SVG decorativo simple -->
        <svg class="brain-svg" viewBox="0 0 300 240" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
          <defs>
            <linearGradient id="g" x1="0" x2="1">
              <stop offset="0" stop-color="#a8b0ff" />
              <stop offset="1" stop-color="#66e9c8" />
            </linearGradient>
          </defs>
          <g fill="none" stroke="url(#g)" stroke-width="3" opacity="0.95">
            <path d="M150 200c-38 0-70-30-70-68 0-21 11-41 28-53 1-22 19-39 42-39 9 0 17 3 24 7 7-10 19-17 33-17 22 0 40 17 41 39 18 12 29 31 29 52 0 38-32 69-70 69h-57z"/>
            <path d="M103 126c12-8 29-13 47-13s35 5 47 13" opacity=".8"/>
            <path d="M150 114v86" opacity=".6"/>
            <circle cx="150" cy="84" r="10" />
            <path d="M185 70c10-12 25-12 35-2" opacity=".6"/>
            <path d="M120 70c-10-12-25-12-35-2" opacity=".6"/>
            <path d="M120 40c10 15 20 25 30 30"/>
            <path d="M180 40c-10 15-20 25-30 30"/>
            <path d="M150 35c-15-22-30-22-45 0M150 35c15-22 30-22 45 0"/>
          </g>
        </svg>
      </div>
    </header>

    <section class="grid cols-2">
      <article class="card pad">
        <h2>¬øQu√© es la salud mental?</h2>
        <p>Es el equilibrio que nos ayuda a <strong>sentir, pensar y actuar</strong> de forma saludable. Influye en c√≥mo manejamos el estr√©s, c√≥mo nos relacionamos con los dem√°s y c√≥mo tomamos decisiones.</p>
        <p>Los problemas de salud mental son <strong>condiciones m√©dicas reales</strong> y, con tratamiento y apoyo, <strong>son tratables</strong>.</p>
      </article>
      <article class="card pad">
        <h2>Si no la atendemos‚Ä¶</h2>
        <ul class="list">
          <li><span class="dot"></span><div><strong>Sufrimiento intenso</strong> o dolor emocional y psicol√≥gico significativo.</div></li>
          <li><span class="dot"></span><div><strong>Discapacidad</strong>: p√©rdida de la capacidad para trabajar, estudiar o participar plenamente en la vida social.</div></li>
          <li><span class="dot"></span><div><strong>Riesgo de autolesiones y suicidio</strong>: algunos trastornos aumentan el riesgo. Buscar ayuda temprana reduce ese riesgo.</div></li>
          <li><span class="dot"></span><div>Afecta c√≥mo nos sentimos, pensamos y actuamos; y <strong>c√≥mo tomamos decisiones</strong>.</div></li>
        </ul>
      </article>
    </section>

    <section class="grid cols-2">
      <article class="card pad">
        <h2>Se√±ales de alerta (comunes)</h2>
        <ul class="list">
          <li><span class="dot"></span><div>Cambios persistentes en el √°nimo, irritabilidad o tristeza.</div></li>
          <li><span class="dot"></span><div>Dificultades para dormir o dormir demasiado.</div></li>
          <li><span class="dot"></span><div>Preocupaci√≥n/ansiedad constante, ataques de p√°nico.</div></li>
          <li><span class="dot"></span><div>Aislamiento social, p√©rdida del inter√©s por actividades.</div></li>
          <li><span class="dot"></span><div>Consumo problem√°tico de alcohol u otras sustancias.</div></li>
        </ul>
      </article>
      <article class="card pad">
        <h2>¬øQu√© pod√©s hacer hoy?</h2>
        <ul class="list">
          <li><span class="dot"></span><div>Hablar con alguien de confianza; <strong>pedir ayuda est√° bien</strong>.</div></li>
          <li><span class="dot"></span><div>Movimiento suave 10‚Äì20 min: caminata, estiramientos.</div></li>
          <li><span class="dot"></span><div>Rutina de sue√±o: misma hora para dormir/despertar.</div></li>
          <li><span class="dot"></span><div>Respiraci√≥n guiada 5 minutos (mir√° el entrenador üëá).</div></li>
          <li><span class="dot"></span><div>Consultar con profesionales de salud cuando sea necesario.</div></li>
        </ul>
      </article>
    </section>

    <!-- === REEMPLAZO: Entrenador de respiraci√≥n nuevo === -->
    <section class="card pad">
      <h2>Entrenador de respiraci√≥n</h2>
      <p class="lead" style="color:var(--muted); font-size:14px">Ciclo 4 ¬∑ 2 ¬∑ 6 (inhal√° 4s ‚Äì sosten√© 2s ‚Äì exhal√° 6s). Repetilo 3 a 5 minutos.</p>

      <!-- AUDIO oculto (archivo local del repo) -->
      <audio id="breath-audio" src="audio/respiracion-426.mp3" preload="auto"></audio>

      <div class="breath-ui">
        <div class="circle" id="breath-circle" aria-hidden="true"></div>
        <div class="caption" id="breath-caption" aria-live="polite">Listo para empezar</div>
        <div id="breath-timer" aria-hidden="true" style="opacity:.8"></div>
        <div class="controls">
          <button id="btn-start">Iniciar</button>
          <button id="btn-stop">Detener</button>
        </div>
        <div class="vol">
          Volumen
          <input id="vol" type="range" min="0" max="1" step="0.01" value="0.35" />
        </div>
      </div>
    </section>

    <section class="card pad">
      <h2>Recursos y l√≠neas de ayuda</h2>
      <div class="help">
        <a class="cta" id="helplineLink" href="tel:08002225462">‚òéÔ∏è 0800-222-5462</a>
        <small>Si est√°s en peligro inmediato o pens√°s en hacerte da√±o, busc√° ayuda de emergencia en tu zona.</small>
      </div>
    </section>

    <footer>
      Hecho con ‚ô• para informar y acompa√±ar. Trabajo realizado por los alumnos 3ro 2da
    </footer>
  </div>

  <script>
    // --- CTA Tel√©fono (igual que antes, editable) ---
    const HELPLINE_NUMBER = "0800-222-5462";
    const HELPLINE_TEL = "08002225462";
    const helpline = document.getElementById('helplineLink');
    if (helpline){
      helpline.textContent = `‚òéÔ∏è ${HELPLINE_NUMBER}`;
      helpline.href = `tel:${HELPLINE_TEL}`;
    }

    // === Respiraci√≥n 4‚Äì2‚Äì6 con audio local ===
    const DUR = { inhale: 4000, hold: 2000, exhale: 6000 };
    const TOTAL = DUR.inhale + DUR.hold + DUR.exhale;

    const circle   = document.getElementById('breath-circle');
    const caption  = document.getElementById('breath-caption');
    const timerEl  = document.getElementById('breath-timer');
    const btnStart = document.getElementById('btn-start');
    const btnStop  = document.getElementById('btn-stop');
    const audioEl  = document.getElementById('breath-audio');
    const volInput = document.getElementById('vol');

    let loopTimer = null, timeouts = [];

    function schedule(ms, fn){
      const id = setTimeout(fn, ms); timeouts.push(id);
    }
    function clearTimers(){
      timeouts.forEach(clearTimeout); timeouts = [];
      if (loopTimer) { clearInterval(loopTimer); loopTimer = null; }
    }

    function countdown(msTotal) {
      const start = performance.now();
      function frame(t) {
        const elapsed = t - start;
        const remain = Math.max(0, msTotal - elapsed);
        timerEl.textContent = (remain/1000).toFixed(1) + 's';
        if (remain > 0) requestAnimationFrame(frame);
      }
      requestAnimationFrame(frame);
    }

    function playCycleUI(){
      // Inhalar
      circle.style.transitionDuration = (DUR.inhale/1000)+'s';
      circle.style.transform = 'scale(1.35)';
      caption.textContent = 'Inhalar ‚Äî 4s';
      countdown(DUR.inhale);

      // Sostener
      schedule(DUR.inhale, () => {
        caption.textContent = 'Sostener ‚Äî 2s';
        countdown(DUR.hold);
      });

      // Exhalar
      schedule(DUR.inhale + DUR.hold, () => {
        circle.style.transitionDuration = (DUR.exhale/1000)+'s';
        circle.style.transform = 'scale(1.00)';
        caption.textContent = 'Exhalar ‚Äî 6s';
        countdown(DUR.exhale);
      });
    }

    async function startBreathing(){
      try {
        audioEl.loop = true;                      // repite mientras practiques
        audioEl.volume = parseFloat(volInput.value || '0.35');
        await audioEl.play();
      } catch (e){
        console.warn('Autoplay bloqueado:', e);
        caption.textContent = 'Toca Iniciar nuevamente para habilitar audio';
      }

      clearTimers();
      playCycleUI();
      loopTimer = setInterval(playCycleUI, TOTAL);
      btnStart.disabled = true;
    }

    function stopBreathing(){
      clearTimers();
      audioEl.pause();
      audioEl.currentTime = 0; // vuelve al inicio
      btnStart.disabled = false;
      caption.textContent = 'Pausa';
      circle.style.transitionDuration = '0.6s';
      circle.style.transform = 'scale(1)';
      timerEl.textContent = '';
    }

    // eventos
    btnStart.addEventListener('click', startBreathing);
    btnStop .addEventListener('click',  stopBreathing);
    volInput.addEventListener('input',  () => {
      audioEl.volume = parseFloat(volInput.value);
    });

    // Accesibilidad b√°sica con teclado
    document.addEventListener('keydown', (e) => {
      if (e.key === ' ') {
        e.preventDefault();
        if (btnStart.disabled) { btnStop.click(); } else { btnStart.click(); }
      }
      if (e.key === 'ArrowUp') {
        e.preventDefault();
        volInput.value = Math.min(1, parseFloat(volInput.value) + 0.05).toFixed(2);
        volInput.dispatchEvent(new Event('input'));
      }
      if (e.key === 'ArrowDown') {
        e.preventDefault();
        volInput.value = Math.max(0, parseFloat(volInput.value) - 0.05).toFixed(2);
        volInput.dispatchEvent(new Event('input'));
      }
    });
  </script>
</body>
</html>
